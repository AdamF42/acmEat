•Coreografia GIS

(
	askDistance#acme; 
	replyDistance@acme
)


•Coreografia BANCA 			

(						
	payment#user;
	sendToken@user;

	1										//the user do not send the token to acme

	+

	(
		verifyToken#acme;
		receiveVerifyResponse@acme;
							
		refoundPayment#acme //NON MI PIACE

		+

		(
			1		//user do nor abort the order and receive the food or the abort time limit expires

			+

			refoundPayment#acme			
		)
	)								
)

•Coregrafia DELIVERY AGENCY

(	
	
	(			
		1					//the delivery company is far

		+

		(
			askDeliveryAvailability#acme;	

			1			//the deliveryA do not reply in 15sec

			+	

			replyAvailability@acme				//reply with positive or negative avalability
		)
	)*;
		
	(	
		sendOrderConfirm#acme
		replyOrderConfirm@acme			//C'è QUALCOSA CHE NON MI TORNA	
	);

	(	
		1									

		+

		deleteDelivery#acme			//if the deliveryA has replied succesfully to the orderConfirm
	)

	+

	(
		1		//user do nor abort the order and receive the food or the abort time limit expires

		+
	
		deleteDelivery#acme						
	)		
											
)




•Coreografia RESTAURANT

(
	(
		(
			changeAvalability@acme 		
		)

		+

		(	
			changeMenu@acme 		
		)
	)

	+

	(					
		1															//the user do not order or there are not available restaurants

		+

		(	
			askRestaurantAvailability#acme;
			replyAvailabiliy@acme;

			(
				1										//the user do not send the token to acme

				+

				(
					
					(		
						sendOrderConfirm#acme
						replyOrderConfirm@acme	
					);

					(	
						1

						+

						deleteOrder#acme			//if the deliveryA has replied succesfully to the orderConfirm	
					)

					+

					(
						1		//user do nor abort the order and receive the food or the abort time limit expires

						+

						deleteOrder: acme → restaurant	
					)
				)								
			)
		)	
	)
)